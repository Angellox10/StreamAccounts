{% extends 'crud_app/base.html' %}

{% block title %}{{ producto.nombre }} - StreamAccounts{% endblock %}

{% block contenido %}
<div class="container">
  <div class="detail-container">
    <div class="row">
      <div class="col-md-4 text-center mb-4">
        {% if producto.is_combo_win %}
          <div style="width: 200px; height: 200px; border-radius: 20px; padding: 20px; background: rgba(255, 255, 255, 0.05); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 10px; margin: 0 auto;">
            <img src="{{ MEDIA_URL }}{{ producto.get_combo_logo_main }}" alt="{{ producto.get_servicio_display }}" style="width: 80px; height: 80px; object-fit: contain;">
            <span style="font-size: 2rem; font-weight: bold; color: #6366f1;">+</span>
            <img src="{{ MEDIA_URL }}{{ producto.get_combo_logo_win }}" alt="Win+" style="width: 80px; height: 80px; object-fit: contain;">
          </div>
        {% elif producto.get_logo %}
          <img src="{{ MEDIA_URL }}{{ producto.get_logo }}" alt="{{ producto.get_servicio_display }}" style="width: 200px; height: 200px; object-fit: contain; border-radius: 20px; padding: 20px; background: rgba(255, 255, 255, 0.05);">
        {% elif producto.imagen %}
          <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" style="width: 200px; height: 200px; object-fit: contain; border-radius: 20px;">
        {% else %}
          <div style="width: 200px; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 5rem; margin: 0 auto;">
            üì∫
          </div>
        {% endif %}
      </div>
      <div class="col-md-8">
        <h1 class="service-header">{{ producto.get_servicio_display }}</h1>
        <p class="service-meta">{{ producto.categoria|upper }} ‚Ä¢ {{ producto.tipo_pantalla }}</p>
        
        <div class="mb-4">
          <span class="info-badge">‚è± {{ producto.duracion_dias }} d√≠as de acceso</span>
          <span class="info-badge">üìä {{ producto.get_categoria_display }}</span>
        </div>
        
        {% if producto.stock > 0 %}
          <div class="stock-status in-stock">‚úì {{ producto.stock }} disponibles</div>
        {% else %}
          <div class="stock-status out-of-stock">‚úó Agotado temporalmente</div>
        {% endif %}
        
        {% if producto.descripcion %}
          <p class="description-text">{{ producto.descripcion }}</p>
        {% else %}
          <p class="description-text">
            Acceso premium a {{ producto.get_servicio_display }} por {{ producto.duracion_dias }} d√≠as. 
            Disfruta de todo el contenido sin restricciones.
          </p>
        {% endif %}
        
        <div class="price-display">${{ producto.precio|floatformat:0 }} COP</div>
        
        <div class="mt-4">
          {% if producto.stock > 0 %}
            <a href="{% url 'agregar_al_carrito' producto.pk %}" class="btn btn-purchase">
              üõí Agregar al carrito
            </a>
          {% else %}
            <button class="btn btn-purchase" disabled style="opacity: 0.5;">
              Sin stock disponible
            </button>
          {% endif %}
          <a href="{% url 'lista_productos' %}" class="btn btn-secondary btn-lg ms-3">Volver al cat√°logo</a>
        </div>
        
        <div class="mt-5 pt-4" style="border-top: 1px solid rgba(255, 255, 255, 0.1);">
          <h4 style="color: white; margin-bottom: 1.5rem;">üìã Detalles del servicio</h4>
          <div class="row">
            <div class="col-md-6">
              <p style="color: #94a3b8;"><strong style="color: white;">Servicio:</strong> {{ producto.get_servicio_display }}</p>
              <p style="color: #94a3b8;"><strong style="color: white;">Tipo:</strong> {{ producto.tipo_pantalla }}</p>
            </div>
            <div class="col-md-6">
              <p style="color: #94a3b8;"><strong style="color: white;">Duraci√≥n:</strong> {{ producto.duracion_dias }} d√≠as</p>
              <p style="color: #94a3b8;"><strong style="color: white;">Categor√≠a:</strong> {{ producto.get_categoria_display }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
